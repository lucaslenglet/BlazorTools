@inject ILogger<Buttons> Logger

@{
    Logger.LogRender();
}

<Button OnClick="AddOne" Value="Click me" />
<Button OnClick="Add10" Value="Add 10" />
<Button OnClick="Reset" Value="Reset" />
<Button OnClick="ToggleDisplay" Style="Button.ButtonStyle.secondary" Value="Toggle Display" />

@code {
    [CascadingParameter]
    public Pages.Counter Counter { get; set; } = default!;

    private Task AddOne() => SetCount(Counter.CurrentCount + 1);

    private Task Add10() => SetCount(Counter.CurrentCount + 10);

    private Task Reset() => SetCount(default);

    private async Task SetCount(int count)
    {
        if (Counter.CurrentCount == count)
        {
            return;
        }
        Counter.CurrentCount = count;
        await Counter.OnCountUpdated.InvokeAsync();
    }

    private async Task ToggleDisplay()
    {
        Counter.Display = !Counter.Display;
        await Counter.OnDisplayChanged.InvokeAsync();
    }

    protected override bool ShouldRender() => false;
}